# ===============================
# Spring Boot Application Configuration
# ===============================
# Spring Boot 서버 포트 (TypeScript WAS와 분리)
server.port=8081

# Spring Boot Context Path (선택사항)
server.servlet.context-path=/

# ===============================
# Spring Profiles
# ===============================
# 기본 활성화 프로필 설정.
# 로컬 개발 시 별도 지정 없으면 'dev' 프로필이 활성화되어 application-dev.properties 사용.
# 운영 환경에서는 -Dspring.profiles.active=prod 와 같이 'prod' 프로필을 명시적으로 활성화해야 함.
spring.profiles.active=dev
# env를 읽어오도록 수정
spring.config.import=optional:file:.env[.properties]

# ===============================
# DATABASE (Configuration moved to profile-specific files)
# ===============================
# H2 설정 -> application-dev.properties 로 이동
# MariaDB 설정 -> application-prod.properties 에 정의 필요
# spring.datasource.url=
# spring.datasource.driverClassName=
# spring.datasource.username=
# spring.datasource.password=

# ===============================
# Management Endpoints (TypeScript WAS 연동을 위한 설정)
# ===============================
# TypeScript WAS가 Spring Boot 상태를 확인하고 매핑 정보를 가져올 수 있도록 설정
management.endpoints.web.exposure.include=health,info,mappings
management.endpoints.web.base-path=/actuator
management.endpoint.health.show-details=always

# ===============================
# CORS Configuration
# ===============================
# TypeScript WAS에서 Spring Boot로 프록시할 때 CORS 문제 방지
spring.web.cors.allowed-origins=http://localhost:8080
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# ===============================
# Session Configuration
# ===============================
# 세션 타임아웃 설정 (30분)
server.servlet.session.timeout=30m
# 세션 쿠키 설정
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax

# ===============================
# MyBatis (Common Settings)
# ===============================
# MyBatis Mapper XML 위치 설정
mybatis.mapper-locations=classpath:mybatis/mapper/**/*.xml
# (선택) MyBatis 설정 파일 위치
# mybatis.config-location=classpath:mybatis/mybatis-config.xml
# (선택) Type Aliases 패키지
# mybatis.type-aliases-package=com.example.test.domain

# ===============================
# JPA (Not used, kept commented out)
# ===============================
# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=true
# spring.jpa.defer-datasource-initialization=true 